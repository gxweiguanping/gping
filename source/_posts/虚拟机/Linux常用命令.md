---
title: Linux常用命令
tags: 虚拟机
categories: 虚拟机
cover: https://gitee.com/studentgitee/note-picture/raw/master/xd21.png
---
![image-20230210143018927](https://gitee.com/studentgitee/note-picture/raw/master/image-20230210143018927.png)

# Linux基本操作命令

## ls命令

***\*显示指定工作目录下的文件及属性信息\****

-a	显示所有文件及目录 (包括以“.”开头的隐藏文件)

-l	使用长格式列出文件及目录的详细信息

-r	将文件以相反次序显示(默认依英文字母次序)

-t	根据最后的修改时间排序

-A	同 -a ，但不列出 “.” (当前目录) 及 “..” (父目录)

-S	根据文件大小排序

-R	递归列出所有子目录

-d	查看目录的信息，而不是里面子文件的信息

-i	输出文件的inode节点信息

-m	水平列出文件，以逗号间隔

-X	按文件扩展名排序

--color	输出信息中带有着色效果

 

## cp命令

***\*复制文件或目录\****

-f	若目标文件已存在，则会直接覆盖原文件

-i	若目标文件已存在，则会询问是否覆盖

-p	保留源文件或目录的所有属性

-r	递归复制文件和目录

-d	当复制符号连接时，把目标文件或目录也建立为符号连接，并指向与源文件或目录连接的原始文件或目录

-l	对源文件建立硬连接，而非复制文件

-s	对源文件建立符号连接，而非复制文件

-b	覆盖已存在的文件目标前将目标文件备份

-v	详细显示cp命令执行的操作过程

-a	等价于“pdr”选项

 

## cd命令

***\*切换目录\****

-P	如果切换的目标目录是一个符号链接，则直接切换到符号链接指向的目标目录

-L	如果切换的目标目录是一个符号链接，则直接切换到符号链接名所在的目录

--	仅使用”-“选项时，当前目录将被切换到环境变量”OLDPWD”对应值的目录

~	切换至当前用户目录

..	切换至当前目录位置的上一级目录

 

## cat命令

***\*在终端设备上显示文件内容\****

-n	显示行数（空行也编号）

-s	显示行数（多个空行算一个编号）

-b	显示行数（空行不编号）

-E	每行结束处显示$符号

-T	将TAB字符显示为 ^I符号

-v	使用 ^ 和 M- 引用，除了 LFD 和 TAB 之外

-e	等价于”-vE”组合

-t  等价于”-vT”组合

-A	等价于 -vET组合

--help	显示帮助信息

--version	显示版本信息

 

## mkdir命令

***\*创建目录文件\****

-p	递归创建多级目录

-m	建立目录的同时设置目录的权限

-z	设置安全上下文

-v	显示目录的创建过程

 

## rmdir命令

***\*删除空目录文件\****

-p	用递归的方式删除指定的目录路径中的所有父级目录，非空则报错

-v	显示命令的详细执行过程

-- -- help	显示命令的帮助信息

-- -- version	显示命令的版本信息

 

## echo命令

***\*输出字符串或提取后的变量值\****

-n	不输出结尾的换行符

-e “\a”	发出警告音

-e “\b”	删除前面的一个字符

-e “\c”	结尾不加换行符

-e “\f”	换行，光标扔停留在原来的坐标位置

-e “\n”	换行，光标移至行首

-e “\r”	光标移至行首，但不换行

-E	禁止反斜杠转义，与-e参数功能相反

—version	查看版本信息

--help	查看帮助信息

 

## mv命令

***\*移动或改名文件\****

-i	若存在同名文件，则向用户询问是否覆盖

-f	覆盖已有文件时，不进行任何提示

-b	当文件存在时，覆盖前为其创建一个备份

-u  当源文件比目标文件新，或者目标文件不存在时，才执行移动此操作

 

## rm命令

***\*删除文件或目录\****

-f	强制删除（不二次询问）

-i	删除前会询问用户是否操作

-r/R	递归删除

-v	显示指令的详细执行过程

 

## df命令

***\*显示磁盘空间使用情况\****

-a	显示所有系统文件

-B <块大小>	指定显示时的块大小

-h	以容易阅读的方式显示

-H	以1000字节为换算单位来显示

-i	显示索引字节信息

-k	指定块大小为1KB

-l	只显示本地文件系统

-t <文件系统类型>	只显示指定类型的文件系统

-T	输出时显示文件系统类型

-- -sync	在取得磁盘使用信息前，先执行sync命令

 

## pwd命令

***\*显示当前工作目录的路径\****

-L	显示逻辑路径

 

## find命令

***\*根据路径和条件搜索指定文件\****

-name	匹配名称

-perm	匹配权限（mode为完全匹配，-mode为包含即可）

-user	匹配所有者

-group	匹配所有组

-mtime -n +n	匹配修改内容的时间（-n指n天以内，+n指n天以前）

-atime -n +n	匹配访问文件的时间（-n指n天以内，+n指n天以前）

-ctime -n +n	匹配修改文件权限的时间（-n指n天以内，+n指n天以前）

-nouser	匹配无所有者的文件

-nogroup	匹配无所有组的文件

-newer f1 !f2	匹配比文件f1新但比f2旧的文件

-type b/d/c/p/l/f	匹配文件类型（后面的字幕字母依次表示块设备、目录、字符设备、管道、链接文件、文本文件）

-size	匹配文件的大小（+50KB为查找超过50KB的文件，而-50KB为查找小于50KB的文件）

-prune	忽略某个目录

-exec …… {}\;	后面可跟用于进一步处理搜索结果的命令

 

## ssh命令

***\*安全的远程连接服务器\****

-1	强制使用ssh协议版本1

-2	强制使用ssh协议版本2

-4	强制使用IPv4地址

-6	强制使用IPv6地址

-A	开启认证代理连接转发功能

-a	关闭认证代理连接转发功能

-b<IP地址>	使用本机指定的地址作为对位连接的源IP地址

-C	请求压缩所有数据

-F<配置文件>	指定ssh指令的配置文件，默认的配置文件为“/etc/ssh/ssh_config”

-f	后台执行ssh指令

-g	允许远程主机连接本机的转发端口

-i<身份文件>	指定身份文件（即私钥文件）

-l<登录名>	指定连接远程服务器的登录用户名

-N	不执行远程指令

-o<选项>	指定配置选项

-p<端口>	指定远程服务器上的端口

-q	静默模式，所有的警告和诊断信息被禁止输出

-X	开启X11转发功能

-x	关闭X11转发功能

-y	开启信任X11转发功能

 

## rpm命令

***\*RPM软件包管理器\****

-a	查询所有的软件包

-b或-t	设置包装套件的完成阶段，并指定套件档的文件名称；

-c	只列出组态配置文件，本参数需配合”-l”参数使用

-d	只列出文本文件，本参数需配合”-l”参数使用

-e	卸载软件包

-f	查询文件或命令属于哪个软件包

-h	安装软件包时列出标记

-i	安装软件包

-l	显示软件包的文件列表

-p	查询指定的rpm软件包

-q	查询软件包

-R	显示软件包的依赖关系

-s	显示文件状态，本参数需配合”-l”参数使用

-U	升级软件包

-v	显示命令执行过程

-vv	详细显示指令执行过程

 

## yum命令

***\*基于RPM的软件包管理器\****

-h	显示帮助信息

-y	对所有的提问都回答“yes”

-c	指定配置文件

-q	安静模式

-v	详细模式

-t	检查外部错误

-d	设置调试等级（0-10）

-e	设置错误等级（0-10）

-R	设置yum处理一个命令的最大等待时间

-C	完全从缓存中运行，而不去下载或者更新任何头文件

install	安装rpm软件包

update	更新rpm软件包

check-update	检查是否有可用的更新rpm软件包

remove	删除指定的rpm软件包

list	显示软件包的信息

search	检查软件包的信息

info	显示指定的rpm软件包的描述信息和概要信息

clean	清理yum过期的缓存

shell	进入yum的shell提示符

resolvedep	显示rpm软件包的依赖关系

localinstall	安装本地的rpm软件包

localupdate	显示本地rpm软件包进行更新

deplist	显示rpm软件包的所有依赖关系

 

## grep命令

***\*强大的文本搜索工具\****

-i	忽略大小写

-c	只输出匹配行的数量

-l	只列出符合匹配的文件名，不列出具体的匹配行

-n	列出所有的匹配行，显示行号

-h	查询多文件时不显示文件名

-s	不显示不存在、没有匹配文本的错误信息

-v	显示不包含匹配文本的所有行

-w	匹配整词

-x	匹配整行

-r	递归搜索

-q	禁止输出任何结果，已退出状态表示搜索是否成功

-b	打印匹配行距文件头部的偏移量，以字节为单位

-o	与-b结合使用，打印匹配的词据文件头部的偏移量，以字节为单位

-F	匹配固定字符串的内容

-E	支持扩展的正则表达式

 

## tail命令

***\*查看文件尾部内容\****

-c	输出文件尾部的N（N为整数）个字节内容

-f	持续显示文件最新追加的内容

-F <N>	与选项“-follow=name”和“--retry”连用时功能相同

-n <N>	输出文件的尾部N（N位数字）行内容

--retry	即是在tail命令启动时，文件不可访问或者文件稍后变得不可访问，都始终尝试打开文件。

--pid=<进程号>	与“-f”选项连用，当指定的进程号的进程终止后，自动退出tail命令

--help	显示指令的帮助信息

--version	显示指令的版本信息

 

## head命令

***\*显示文件开头的内容\****

-n <数字>	定义显示行数

-c <数字>	指定显示头部内容的字符数

-v	总是显示文件名的头信息

-q	不显示文件名的头信息

 

## netstat命令

***\*显示网络状态\****

-a	显示所有连线中的Socket

-p	显示正在使用Socket的程序识别码和程序名称

-l	仅列出在监听的服务状态

-t	显示TCP传输协议的连线状况

-u	显示UDP传输协议的连线状况

-i

显示网络界面信息表单

-r	显示路由表信息

-n	直接使用IP地址，不通过域名服务器

 

**根据端口查找进程（假设端口号为8080）**

netstat -nlp | grep :8080

**列出所有端口信息（包括监听和未监听的）**

netstat -ano

**列出所有的tcp协议的端口**

netstat -at

**显示每个协议的统计信息**

netstat -s

**显示核心路由信息**

netstat -r

**持续输出 netstat 信息。netstat -c将每隔一秒输出网络信息**

netstat -c

**找出程序运行的端口。并不是所有的进程都能找到，没有权限的会不显示，使用 root 权限查看所有的信息**

netstat -anp

**显示多播组信息**

netstat -g

 

## zip命令

***\*压缩文件\****

-q	不显示指令执行过程

-r	递归处理，将指定目录下的所有文件和子目录一并处理

-z	替压缩文件加上注释

-v	显示指令执行过程或显示版本信息

-d	更新压缩包内文件

-n<字尾字符串>	不压缩具有特定字尾字符串的文件

 

## unzip命令

***\*解压缩zip格式文件\****

-l	显示压缩文件内所包含的文件

-v	执行时显示详细的信息

-c	将解压缩的结果显示到屏幕上，并对字符做适当的转换

-n	解压缩时不要覆盖原有的文件

-j	不处理压缩文件中原有的目录路径

 

## tar命令

***压缩和解压缩文件***

-A	新增文件到以存在的备份文件

-B	设置区块大小

-c	建立新的备份文件

-C <目录>	仅压缩指定目录里的内容或解压缩到指定目录

-d	记录文件的差别

-x	从归档文件中提取文件

-t	列出备份文件的内容

-z	通过gzip指令压缩/解压缩文件，文件名最好为*.tar.gz

-Z	通过compress指令处理备份文件

-f<备份文件>	指定备份文件

-v	显示指令执行过程

-r	添加文件到已经压缩的文件

-u	添加改变了和现有的文件到已经存在的压缩文件

-j	通过bzip2指令压缩/解压缩文件，文件名最好为*.tar.bz2

-v	显示操作过程

-l	文件系统边界设置

-k	保留原有文件不覆盖

-m	保留文件不被覆盖

-w	确认压缩文件的正确性

-p	保留原来的文件权限与属性

-P	使用文件名的绝对路径，不移除文件名称前的“/”号

-N <日期格式>	只将较指定日期更新的文件保存到备份文件里

-- -exclude=<范本样式>	排除符合范本样式的文件

-- -remove-files	归档/压缩之后删除源文件

```
# gzip例子
gzip格式打包压缩：tar -czvf file.tar.gz ./

gzip格式解压：tar -zxvf file.tar.gz

# tar例子
tar格式打包压缩：tar -cvf file.tar ./

tar格式解压：tar -xvf file.tar
```

## ps命令

***\*显示进程状态\****

a	显示现行终端机下的所有程序，包括其他用户的程序

-A	显示所有程序

c	显示每个程序真正的指令名称，而不包含路径

-C <指令名称>	指定执行指令的名称，并列出该指令的程序的状况

-d	显示所有程序，但不包括阶段作业管理员的程序

e	列出程序时，显示每个程序所使用的环境变量

-f	显示UID,PPIP,C与STIME栏位

f	用ASCII字符显示树状结构，表达程序间的相互关系

g	显示现行终端机下的所有程序，包括所属组的程序

-G <群组识别码>	列出属于该群组的程序的状况

h	不显示标题列

-H	显示树状结构，表示程序间的相互关系

-j	采用工作控制的格式显示程序状况

-l	采用详细的格式来显示程序状况

L	列出栏位的相关信息

-m	显示所有的执行绪

n	以数字来表示USER和WCHAN栏位

-N	显示所有的程序，除了执行ps指令终端机下的程序之外

-p <程序识别码>	指定程序识别码，并列出该程序的状况

r	只列出现行终端机正在执行中的程序

-s <阶段作业>	列出隶属该阶段作业的程序的状况

s	采用程序信号的格式显示程序状况

S	列出程序时，包括已中断的子程序资料

-t <终端机编号>	列出属于该终端机的程序的状况

-T	显示现行终端机下的所有程序

u	以用户为主的格式来显示程序状况

-U <用户识别码>	列出属于该用户的程序的状况

U <用户名称>	列出属于该用户的程序的状况

v	采用虚拟内存的格式显示程序状况

-V或V	显示版本信息

-w或w	采用宽阔的格式来显示程序状况

x	显示所有程序，不以终端机来区分

X	采用旧式的Linux i386登陆格式显示程序状况

-y	配合选项”-l”使用时，不显示F(flag)栏位，并以RSS栏位取代ADDR栏位

--cols <每列字符数>	设置每列的最大字符数

--headers	重复显示标题列

--help	在线帮助

--info	显示排错信息

--lines <显示列数>	设置显示画面的列数

 

显示系统中全部的进程信息，含详细信息：ps -aux

结合管道操作符，将当前系统运行状态中指定进程信息过滤出来：ps -ef | grep ***

 

## top命令

***\*实时显示系统运行状态\****

-d <秒>	改变显示的更新速度

-c 	切换显示模式

-s	安全模式，不允许交互式指令

-i	不显示任何闲置或僵死的行程

-n	设定显示的总次数，完成后将会自动退出

-b	批处理模式，不进行交互式显示

**t****op****命令交互：**

h 显示帮助画面，给出一些简短的命令总结说明

k 终止一个进程。

i 忽略闲置和僵死进程。这是一个开关式命令。

q 退出程序

r 重新安排一个进程的优先级别

S 切换到累计模式

s 改变两次刷新之间的延迟时间（单位为s），如果有小数，就换算成m s。输入0值则系统将不断刷新，默认值是5 s

f或者F 从当前显示中添加或者删除项目

o或者O 改变显示项目的顺序

l 切换显示平均负载和启动时间信息

m 切换显示内存信息

t 切换显示进程和CPU状态信息

c 切换显示命令名称和完整命令行

M 根据驻留内存大小进行排序

P 根据CPU使用百分比大小进行排序

T 根据时间/累计时间进行排序

W 将当前设置写入~/.toprc文件中

 

## free命令

***\*显示系统内存使用量情况\****

-b	以Byte显示内存使用情况

-k	以kb为单位显示内存使用情况

-m	以mb为单位显示内存使用情况

-g	以gb为单位显示内存使用情况

-s	持续显示内存

-t	显示内存使用总合

-h	以易读的单位显示内存使用情况

 

## wget命令

***\*下载网络文件\****

-V	显示版本信息

-h	显示帮助信息

-b	启动后转入后台执行

-c	支持断点续传

-O	定义本地文件名

-e <命令>	执行指定的命令

--limit-rate=<速率>	限制下载速度

 

## vi/vim命令

***\*文本编辑器\****

https://blog.csdn.net/m0_61008247/article/details/120972839

 

## touch命令

***\*创建空文件与修改时间戳\****

-a	改变档案的读取时间记录

-m	改变档案的修改时间记录

-r	使用参考档的时间记录，与 --file 的效果一样

-c	不创建新文件

-d	设定时间与日期，可以使用各种不同的格式

-t	设定档案的时间记录，格式与 date 命令相同

--no-create	不创建新文件

--help	显示帮助信息

--version	列出版本讯息

 

**创建出一个指定名称的空文件：touch** **file.txt**

**修改指定文件的查看时间和修改时间：****touch -d "2022-05-08 15:44"** **file****.txt**

 

## make命令

***\*编译内核或源码文件\****

-r	禁用内置的隐含规则

-B	始终无条件make所有目标

-b	忽略兼容性

-C<目录>	更改为指定目录

-L	在符号链接和目标之间使用最后的修改时间

-n	实际上不运行任何命令，只显示出来

-o<文件>	不编译指定的文件

-e	环境变量覆盖makefile

-d	显示打印调试信息

-i	从命中忽略错误

-w	显示当前目录

-t	创建目标，而不是改造它们

-p	显示make的内部数据库

-q	安静模式

-R	禁用内置变量设置

-s	不回显命令

-I<目录>	搜索指定目录中包含的makefile

-f<文件>	读取指定文件作为makefile文件

-k	当有些目标不能make下去时，继续执行

-- -debug=<标记>	显示调试信息的各种类型

-j<作业编号>	指定工作编号的作业一次完成

-l<负载>	不要启动多个任务，除非低于指定负载

-S	关闭-k

-- -no-print-directory	关闭-w，即使它被打开

-- -warn-undefined-variables	当一个未定义的变量被引用时发出警告

-W<文件>	指定目标文件

 

## date命令

***\*显示或设置系统日期与时间\****

-d datestr	显示 datestr 中所设定的时间 (非系统时间)

-s datestr	将系统时间设为 datestr 中所设定的时间

-u	显示目前的格林威治时间

--help	显示帮助信息

--version	显示版本编号



# 防火墙相关操作

##  1、查看防火墙状态

```
firewall-cmd --state         
```

## 2、停止firewal  

```
systemctl stop firewalld.service    
```

## 3、禁止firewall开机启动

```
   systemctl disable firewalld.service   
```

## 4、开放端口

```
firewall-cmd --zone=public --add-port=80/tcp --permanent          
```

## 5、重新载入

```
firewall-cmd --reload            
```

## 6、查看端口是否开放

```
firewall-cmd --zone=public --query-port=80/tcp      
```

## 7、删除端口

```
 firewall-cmd --zone=public --remove-port=80/tcp --permanent 
```

## 8、查看占用的端口

```
netstat -nap | grep 端口号    
```

## 9、杀死端口号

```
kill -9 进程id            
```

## 10、启动防火墙

```
systemctl start firewalld.service             
```

​            

 

 

 

 